SaveCog 機能仕様書
概要

SaveCogは、授業名と年度を指定して過去問を保存するコマンドをDiscord上で実行するための機能です。ユーザーが!saveコマンドを使用すると、システムは指定された授業名と年度で既に保存されている過去問があるかどうかを検索し、重複がなければ画像のアップロードを促します。
機能詳細

    コマンド解析
        ユーザーが!save 授業名 年度という形式でコマンドを送信します。
        SaveCogはコマンドを解析し、授業名と年度の情報を抽出します。

    重複チェック
        抽出した授業名と年度をデータベースに照会し、同じ授業で同じ年度のデータが既に存在するかを検証します。
        重複がある場合は、ユーザーに重複があることを通知します。

    画像アップロードの促進
        重複がない場合、BotはEmbedメッセージを使用してユーザーに画像をアップロードするよう促します。
        Embedメッセージには、授業名と年度が明記され、どの過去問について話しているのかをユーザーが理解できるようにします。

    画像受け取りと保存
        ユーザーが画像をアップロードすると、SaveCogは画像を受け取り、サーバー上の適切なディレクトリに保存します。

    PDF変換
        サポートされる画像形式（png, jpg）はPDFに変換されます。

    データベースへの記録
        画像のパス、授業名、年度はデータベースに記録されます。

    授業名の検索候補提供
        授業名を入力する際、既存の授業名の候補リストを提供する機能を実装します。これにより、ユーザーは既存の授業名を簡単に選択して間違いを減らすことができます。

エラーハンドリング

    すべての操作において、予期しないエラーが発生した場合はユーザーに通知されます。

ユーザーインターフェース

    ユーザーはDiscordチャットを通じてすべての操作を行います。
    重複チェック、画像アップロードの指示、エラーメッセージはすべてEmbedメッセージで装飾され、視覚的にわかりやすく表示されます。

セキュリティ

    アップロードされたファイルはサーバー上で適切に管理され、無許可アクセスから保護されます。